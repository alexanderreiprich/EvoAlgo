(()=>{"use strict";var e={980:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Field=void 0,t.Field=class{constructor(){this.squares=[],this.createSquares()}getSquares(){return this.squares}createSquares(){for(let e=0;e<10;e++){this.squares[e]=new Array;for(let t=0;t<10;t++){let r=Math.floor(16777215*Math.random()).toString(16);this.squares[e][t]=r}}return console.log(this.squares),this.squares}swapSquares(e,t){const r=this.squares[e.x][e.y];this.squares[e.x][e.y]=this.squares[t.x][t.y],this.squares[t.x][t.y]=r}}},752:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Fitness=void 0;const l=r(550);t.Fitness=class{calcFitness(){let e=0,t=l.field.getSquares();for(let r=0;r<t.length;r++)for(let l=0;l<t[r].length-1;l++)e+=this.averageColorDistance(t,r,l);return document.getElementById("fitness").innerHTML="Fitness: "+e.toFixed(4),e}hexToRGB(e){let t=parseInt(e,16);return[t>>16&255,t>>8&255,255&t]}calcColorDistance(e,t){const r=e[0]-t[0],l=e[1]-t[1],n=e[2]-t[2];return Math.sqrt(r*r+l*l+n*n)}averageColorDistance(e,t,r){const l=[[0,1],[1,0],[0,-1],[-1,0],[-1,-1],[-1,1],[1,-1],[1,1]];let n=this.hexToRGB(e[t][r]),s=0,a=0;for(let[o,i]of l){let l=t+o,c=r+i;if(l>=0&&l<e.length&&c>=0&&c<e[0].length){let t=this.hexToRGB(e[l][c]);s+=this.calcColorDistance(n,t),a++}}return 0===a?0:s/a}}},455:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.HillClimber=void 0;const l=r(980);t.HillClimber=class{hillclimber(e,t,r,l){let n=0,s=this.createCandidate(r),a=e(s);for(console.log(s.toString()+" - Gen: "+n+", Rating: "+e(s));a!=r&&n<l;){n++,a=e(s);let r=t(s);e(r)>a&&(s=r,console.log(s.toString()+" - Gen: "+n+", Rating: "+e(s)))}}createCandidate(e){let t=[];for(let r=0;r<e;r++)t[r]=Math.round(Math.random());return t}createInitialPopulation(){let e=new l.Field,t=[];for(let r=0;r<3;r++){let r=e;console.log(r.getSquares()),this.chooseRandomTile(),this.chooseRandomTile(),r.swapSquares({x:0,y:0},{x:1,y:0}),console.log(r.getSquares()),t.push(r)}return t}chooseRandomTile(){return{x:Math.floor(10*Math.random()),y:Math.floor(10*Math.random())}}rateCandidate(e){for(let t=0;t<e.length;t++)if(1==e[t])return t;return e.length}rateCandidateBalanced(e){let t=this.rateCandidate(e),r=0;for(let t=0;t<e.length;t++)1==e[t]&&r++;return Math.min(t,r)}mutateCandidate(e){let t=e.slice(),r=Math.floor(Math.random()*e.length);return t[r]=1-e[r],t}mutateCandidateProbability(e){let t=e.slice();for(let r=0;r<e.length;r++)Math.random()<1/e.length&&(t[r]=1-e[r]);return t}}},550:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.field=void 0;const l=r(752),n=r(980),s=r(455),a=c("squares");c("resetBtn").addEventListener("click",(function(){const e=localStorage.getItem("squares");t.field=e?JSON.parse(e):t.field.createSquares(),u()})),t.field=new n.Field,localStorage.setItem("squares",JSON.stringify(t.field));let o={x:-1,y:-1},i=new l.Fitness;function c(e){return document.getElementById(e)}function d(e){if(-1==o.x&&-1==o.y)o=e,c(o.x+""+o.y).className="selected";else{let r=e;c(o.x+""+o.y).className="",c(r.x+""+r.y).className="",t.field.swapSquares(o,r),o={x:-1,y:-1},u()}}function u(){!function(){let e=t.field.getSquares();a.innerHTML="";for(let t=0;t<e.length;t++){let r=document.createElement("div");null==a||a.appendChild(r);for(let r=0;r<e[t].length;r++){let l=document.createElement("div");l.id=t+""+r,l.style.backgroundColor="#"+e[t][r],l.addEventListener("click",(function(){d({x:Number(this.id.charAt(0)),y:Number(this.id.charAt(1))})})),null==a||a.children[t].appendChild(l)}}}(),i.calcFitness()}u();let h=new s.HillClimber;console.log(h.createInitialPopulation())}},t={};!function r(l){var n=t[l];if(void 0!==n)return n.exports;var s=t[l]={exports:{}};return e[l](s,s.exports,r),s.exports}(550)})();